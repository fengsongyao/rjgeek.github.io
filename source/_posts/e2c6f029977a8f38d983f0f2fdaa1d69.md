---
title: 【密码知识】An introduction to Digital Signatures(数字证书的介绍)
id: 718
categories:
  - 编程语言
date: 2015-12-07 18:50:10
tags:
---

<div><center>What is a Digital Signature?</center><center>Written by David Youd ,Expanded by LI RuJia</center>For respecting authentic author, I give all the original text, For reading easily, I expanded it &nbsp;and &nbsp;translated it into Chinese&nbsp;<!--more-->

* * *
<center><table border="0"><tbody><tr><td align="CENTER">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_f87a0712-00df-4cbd-977f-7f578f1839d5.gif)
Bob</td><td>![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_4be023b2-15b3-4a74-92a6-a4718bd582b9.gif)</td><td align="center">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_51efd4ec-5e44-4056-9880-a98f1207e9ad.gif)
(Bob's public key)

![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_0c3170b1-038e-4f60-9aed-4e042c778723.gif)
(Bob's private key)
</td></tr></tbody></table></center>

Bob has been given two keys. One of Bob's keys is called a Public Key, the other is called a Private Key.
<center><table border="0"><tbody><tr><td align="CENTER" colspan="3">Bob's Co-workers:</td></tr><tr><td align="CENTER">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_8326af8b-84c8-49c6-ae7d-880aae219446.gif)</td><td align="CENTER">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_be037057-781e-46f6-9630-5794ea9a3042.gif)</td><td align="CENTER">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_7fe6611c-0a33-4db7-bf26-0aacc6d47b03.gif)</td><td>![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_4be023b2-15b3-4a74-92a6-a4718bd582b9.gif)</td><td width="150" align="center">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_51efd4ec-5e44-4056-9880-a98f1207e9ad.gif)
Anyone can get Bob's Public Key, but Bob keeps his Private Key to himself</td></tr><tr><td align="CENTER">Pat</td><td align="CENTER">Doug</td><td align="CENTER">Susan</td></tr></tbody></table></center>

Bob's Public key is available to anyone who needs it, but he keeps his Private Key to himself. Keys are used to encrypt information. Encrypting information means "scrambling it up", so that only a person with the appropriate key can make it readable again. Either one of Bob's two keys can encrypt data, and the other key can decrypt that data.

Susan (shown below) can encrypt a message using Bob's Public Key. Bob uses his Private Key to decrypt the message. Any of Bob's coworkers might have access to the message Susan encrypted, but without Bob's Private Key, the data is worthless.
<center><table border="0"><tbody><tr><td align="CENTER">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_7fe6611c-0a33-4db7-bf26-0aacc6d47b03.gif)</td><td>![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_4be023b2-15b3-4a74-92a6-a4718bd582b9.gif)</td><td width="100">"Hey Bob, how about lunch at Taco Bell. I hear they have free refills!"</td><td>![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_1268c8d7-0571-4b58-a482-50b849b3e1ba.gif)</td><td width="100">HNFmsEm6Un BejhhyCGKOK JUxhiygSBCEiC 0QYIh/Hn3xgiK BcyLK1UcYiY lxx2lCFHDC/A</td></tr></tbody></table><table border="0"><tbody><tr><td align="CENTER">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_f87a0712-00df-4cbd-977f-7f578f1839d5.gif)</td><td>![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_4be023b2-15b3-4a74-92a6-a4718bd582b9.gif)</td><td width="100">HNFmsEm6Un BejhhyCGKOK JUxhiygSBCEiC 0QYIh/Hn3xgiK BcyLK1UcYiY lxx2lCFHDC/A</td><td>![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_d7958e24-f338-493e-80dc-ae0a4c6bf451.gif)</td><td width="100">"Hey Bob, how about lunch at Taco Bell. I hear they have free refills!"</td></tr></tbody></table></center>

With his private key and the right software, Bob can put digital signatures on documents and other data. A digital signature is a "stamp" Bob places on the data which is unique to Bob, and is very difficult to forge. In addition, the signature assures that any changes made to the data that has been signed can not go undetected.
<center><table border="0" cellspacing="5" cellpadding="5"><tbody><tr><td>![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_b8053cb7-9d6f-45ef-8e08-c0862b463578.gif)</td><td>![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_f612d73e-7851-46cb-9247-5136d949ba18.gif)</td><td>![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_090b799d-13a7-4e71-ad6f-cdfa59cc2d3b.gif)</td></tr></tbody></table></center><table><tbody><tr><td align="CENTER">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_f87a0712-00df-4cbd-977f-7f578f1839d5.gif)</td><td>To sign a document, Bob's software will crunch down the data into just a few lines by a process called "hashing". These few lines are called a message digest. (It is not possible to change a message digest back into the original data from which it was created.)</td></tr></tbody></table><center><table border="0" cellspacing="5" cellpadding="5"><tbody><tr><td align="center">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_090b799d-13a7-4e71-ad6f-cdfa59cc2d3b.gif)</td><td align="center">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_d85ff476-a3aa-4e29-8118-3225a5d8bdae.gif)</td><td align="center">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_48c52fc6-bfe2-4b78-8be0-e5919c55d788.gif)</td></tr></tbody></table></center>

Bob's software then encrypts the message digest with his private key. The result is the digital signature.
<center><table border="0" cellspacing="5" cellpadding="5"><tbody><tr><td align="center">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_48c52fc6-bfe2-4b78-8be0-e5919c55d788.gif)</td><td align="center">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_db3e4076-92cc-4b2b-a133-0f913b2996ad.gif)</td><td align="center">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_47f90459-cd6a-4946-bba7-4421096e7f97.gif)</td></tr></tbody></table></center>

Finally, Bob's software appends the digital signature to document. All of the data that was hashed has been signed.
<center><table border="0" cellspacing="5" cellpadding="5"><tbody><tr><td align="center" rowspan="2">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_47f90459-cd6a-4946-bba7-4421096e7f97.gif)</td><td align="center">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_f612d73e-7851-46cb-9247-5136d949ba18.gif)</td><td align="center">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_090b799d-13a7-4e71-ad6f-cdfa59cc2d3b.gif)</td></tr><tr><td align="center">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_458315d8-39f1-443c-839a-1c65517b81e6.gif)</td><td align="center">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_090b799d-13a7-4e71-ad6f-cdfa59cc2d3b.gif)</td></tr></tbody></table></center>

Bob now passes the document on to Pat.
<table border="0"><tbody><tr><td align="CENTER">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_8326af8b-84c8-49c6-ae7d-880aae219446.gif)</td><td>First, Pat's software decrypts the signature (using Bob's public key) changing it back into a message digest. If this worked, then it proves that Bob signed the document, because only Bob has his private key. Pat's software then hashes the document data into a message digest. If the message digest is the same as the message digest created when the signature was decrypted, then Pat knows that the signed data has not been changed.</td></tr></tbody></table><center>Plot complication...</center><table border="0"><tbody><tr><td align="CENTER">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_be037057-781e-46f6-9630-5794ea9a3042.gif)</td><td>Doug (our disgruntled employee) wishes to deceive Pat. Doug makes sure that Pat receives a signed message and a public key that appears to belong to Bob. Unbeknownst to Pat, Doug deceitfully sent a key pair he created using Bob's name. Short of receiving Bob's public key from him in person, how can Pat be sure that Bob's public key is authentic?</td></tr></tbody></table>

It just so happens that Susan works at the company's certificate authority center. Susan can create a digital certificate for Bob simply by signing Bob's public key as well as some information about Bob.
<center><table border="0"><tbody><tr><td align="middle"><table border="2" cellspacing="2" cellpadding="2"><tbody><tr><td bgcolor="#FFFFFF">Bob Info:&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Name&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Department&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Cubical Number

Certificate Info:&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Expiration Date&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Serial Number

Bob's Public Key:&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_51efd4ec-5e44-4056-9880-a98f1207e9ad.gif)
</td></tr></tbody></table></td><td align="middle">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_4be023b2-15b3-4a74-92a6-a4718bd582b9.gif)</td><td align="middle">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_57cee98c-6fca-49bf-be3c-af2e499540f1.gif)
![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_7fe6611c-0a33-4db7-bf26-0aacc6d47b03.gif)</td><td align="middle">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_4be023b2-15b3-4a74-92a6-a4718bd582b9.gif)</td><td align="middle">![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_f8f5b883-c5ae-4aca-bfc9-9916b54ad3fa.gif)</td></tr></tbody></table></center>

Now Bob's co-workers can check Bob's trusted certificate to make sure that his public key truly belongs to him. In fact, no one at Bob's company accepts a signature for which there does not exist a certificate generated by Susan. This gives Susan the power to revoke signatures if private keys are compromised, or no longer needed. There are even more widely accepted certificate authorities that certify Susan.

Let's say that Bob sends a signed document to Pat. To verify the signature on the document, Pat's software first uses Susan's (the certificate authority's) public key to check the signature on Bob's certificate. Successful de-encryption of the certificate proves that Susan created it. After the certificate is de-encrypted, Pat's software can check if Bob is in good standing with the certificate authority and that all of the certificate information concerning Bob's identity has not been altered.

Pat's software then takes Bob's public key from the certificate and uses it to check Bob's signature. If Bob's public key de-encrypts the signature successfully, then Pat is assured that the signature was created using Bob's private key, for Susan has certified the matching public key. And of course, if the signature is valid, then we know that Doug didn't try to change the signed content.
<center></center>Although these steps may sound complicated, they are all handled behind the scenes by Pat's user-friendly software. To verify a signature, Pat need only click on it.

* * *
原文地址：http://www.youdzone.com/signature.html
主要内容有：对称密钥系统，非对称密钥系统，数字信封，确保信息完整性hash散列，数字签名，数字证书等
1，对称密钥系统加密和解密用同一个密钥，密钥长度较短，传输熟读较快，常常用于在建立连接后的内容加密
&nbsp; &nbsp; &nbsp; 如下图所示;典型的算法，DES（核心思想是替换加密和转换加密），三重DES
![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_df0bdabb-6724-484b-86d6-d013a1006a80.jpg)
---------------------------------------------------------------------------------------
2，非对称密钥系统，也称为公钥加密,它使用一对密钥，包括一个公钥（ Public Key ）和一个私钥（ Private Key ）。
&nbsp; &nbsp; &nbsp;主要作用是认证，典型有算法RSA，背包算法，如下图所示
![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_a71d8092-7f34-42f9-bc90-103b357d6606.gif)
---------------------------------------------------------------------------------------
两者常常一起使，下面是应用的案例用

![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_23e266d4-c2de-4af4-a251-c9d875bd2ad6.bmp)
发送者公开密钥进行加密，接收者用私钥进行解密，问题是这个私钥怎么传输？
![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_7d912cad-27b6-4a13-bd40-ed158685c378.bmp)
&nbsp;
&nbsp;
接收者用私钥进行加密，所有人都知道的公钥，安全问题？
&nbsp;
![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_a29471fc-1659-4606-a985-e084cc2bcd8a.bmp)
这个图片解决以上两个问题，首先用发送者的私钥进行加密，这时所有人的公钥都可以解开，然后在用接收者的公钥进行加密，
确保了只有接收者可以解开&nbsp;公钥算法相对兑成算法速度较慢，无法用于加密和解密大量数据，在实际应用中常常是两者同时使用
---------------------------------------------------------------------------------------
下面来介绍可以几个相关概念：
数字信封：（digitalenvelope）,用公钥建立和发送一个对称密钥个给接收人，然后用这个密钥进行信息的加密和解密
&nbsp;通俗点将就是：通过非对称加密，获取对称加密的密钥，如下图所示：
&nbsp;
![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_b4531a3c-a5fc-449e-9ec7-069165d1243f.bmp)
&nbsp;
下面来思考一个问题，当我们可以确保信息不会外泄时，我们怎么样保证所发信息的完整性？
&nbsp;
散列值（也成哈希值），当不用个输入时，可以确保有不同的输出，通过输出值可以保证输入的唯一性
散列是一个单向的函数，即使信息有细微的变化，所输出的散列值也不同
确保信息完整的有效加密方法就是通过散列值，这点已经广泛应用，比如我们平时用的迅雷，电驴，甚至有时候在下载大型软件时，
旁边会附有他的散列值
原理如下
&nbsp;
1.将信息和信息的散列值一同发给收件人
2.收件人收到信息，通过相同的散列算法，计算出另一个散列值
3将两个散列值进行比较，如果相同，则说明在传输过程中未出现丢失，信息是完整的
&nbsp;
---------------------------------------------------------------------------------------&nbsp;
到目前为止，我们已经解决了两个问题，即传输中信息泄露（安全性）和接收后保证信息的完整性，当我们接收到一个数
据后又是怎样确定是发送者发送的呢？下面我们来讨论这个问题&nbsp;现在最关心的是发送者的身份？现实生活中我们可以使用
笔迹鉴定，按手印等，如甲在写完文章后，既按了一个手印，当乙（甚至是所有人）看到这个手印后，既可以确定是甲按的，
这个手印具有唯一性，在网络传输中我们可以将内容和这个手印一起传给接收者，当接收者看到这手印后，即认定他就是甲，
这个手印就是就是下面要讲的数据签名
---------------------------------------------------------------------------------------
数据签名：基本原理
1.对发送者者内容进行散列
![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_707f4385-7ecf-45e7-ba83-c1df3b9ff3a3.png)
&nbsp;获取发送内容的哈希值，确保完整性
---------------------------------------------------------------------------------------
2，对这个散列值进行加密（用发送者的私钥）记住一个原则，私钥加密，公钥解密不安全，但是可以用于身份验证
&nbsp;
![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_cbdc90c8-c954-499a-833f-340296465f5b.png)
---------------------------------------------------------------------------------------
3.将数字签名（用发送者私钥加密的发送内容的哈希值），附加在发送的内容中生成一个明文A，一起进行发送
&nbsp;
![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_c3d990e2-7e06-4810-b79b-65bb080989c4.png)
---------------------------------------------------------------------------------------
&nbsp;4.对明文A，用接收者的公钥进行加密生成密文B，进行发送
&nbsp;5.接受者在收到密文B后，用自己的私钥进行解密，还原成明文Ａ
![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_c0c4bc87-30fa-45d1-ac72-b8ee892d0bbd.jpg "点击查看原始大小图片")
6.接受者从还原的明文A中，抽取中签名，然后对签名用发送者的公钥进行解密得到一个散列值Ｆ，如果能得到说明，
信息就是发送者发来的，因为发送者的私钥只有发送者的公钥能解开，至此验证了身份，对接收的明文A中内容进行
哈希散列，获取哈希D ,如果D和F一致，说明发送的是完整，
---------------------------------------------------------------------------------------
下面我们来讨论一个更深层次的问题：在确定了发送方的身份后，我们怎么确定接收方的身份，你必须知道某人的公
钥才向他发送信息，公钥来自何处，如何确定公钥持有者的身份？
带着这个问题，我们来探究下一个话题：数字证书
数字证书有认证中心发行，用来正式公钥和私钥持有人真实身份，个人可以像CA（认证中心）申请数字证书，这个
过程称为公钥认证，证书中心用自己 的私钥对申请人公钥和一些基本信息进行加密，寄给申请方，当有人像申请人
发送信息时，他们首先要求接收人，寄过来签名证书，然后发送人使用CA公钥给证书解密，发送人对接收人的身份
得意确认，这样最后只需要与认证方打交道即可 &nbsp;例子自己看看吧，我就不分析了
![](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_8aa7c803-315f-495f-9ada-8567e2504807.bmp)
<pre>本文曾经出现我之前的博客中：&nbsp;&lt;[http://lirujia00.iteye.com/blog/1731309](http://lirujia00.iteye.com/blog/1731309)<font color="#808080" face="Simsun"><span>&gt;</span></font>
<pre>&nbsp;</pre></pre></div><div id="blog_content">

<span></span>

<span></span>

<span></span>

<span></span>
</div>

<div>[来自为知笔记(Wiz)](http://www.wiz.cn/i/60efacb7 "来自为知笔记(Wiz)")</div>

<div>

### 附件列表

*   [)TEBIW9)[KSQX$BN9U{Z@~D.png](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_TEBIW9KSQXBN9UZ@D2.png)
*   [[PQS0SN48J2L0TMVE8U2~]W.png](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_PQS0SN48J2L0TMVE8U2W2.png)
*   [FQZ6~5JBDXSZ)@EU0AO(}1Q.png](http://helloword.1kapp.com/wp-content/uploads/2015/12/wpid-6567211442dd8fb3b9c517188dd9ef70_FQZ65JBDXSZ@EU0AO1Q2.png)</div>

&nbsp;