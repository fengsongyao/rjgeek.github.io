---
title: 【Linux】手动释放linux内存
tags:
  - Linux
id: 160
categories:
  - 操作系统
date: 2014-11-22 00:09:14
---

<div>1.查看当前系统内存使用情况</div><div>![](http://helloword.1kapp.com/wp-content/uploads/2015/01/wpid-f40eac9162e0282c4724b19146858646_bbc3ee27-250c-45dc-b75e-3240c629b32d.png)
</div><div>2.<span style="background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 28px;">手动执行sync命令</span></div><!--more--><div><span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 28px; background-color: rgb(248, 248, 248);">sync 命令运行 sync 子例程。如果必须停止系统，则运行sync 命令以确保文件系统的完整性。</span></div><div><span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 28px; background-color: rgb(248, 248, 248);">sync 命令将所有未写的系统缓冲区写到磁盘中，包含已修改的 i-node、已延迟的块 I/O 和读写映射文件</span><span style="background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 28px;">
</span></div><div>![](http://helloword.1kapp.com/wp-content/uploads/2015/01/wpid-f40eac9162e0282c4724b19146858646_a568be94-86c3-4474-8afb-796e54b80b54.png)<span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 28px; background-color: rgb(248, 248, 248);">
</span></div><div>3.修改<span style="background-color: rgb(247, 247, 247); font-family: 'Courier New', monospace; font-size: 12px; line-height: 18px; white-space: pre;">/proc/sys/vm/drop_caches</span></div><div><span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 28px; background-color: rgb(248, 248, 248);">/proc是一个虚拟文件系统，我们可以通过对它的读写操作做为与kernel实体间进行通信的一种手段。</span></div><div><span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 28px; background-color: rgb(248, 248, 248);">也就是说可以通过修改/proc中的文件，来对当前kernel的行为做出调整。</span></div><div><span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 28px; background-color: rgb(248, 248, 248);">那么我们可以通过调整/proc/sys/vm/drop_caches来释放内存。操作如下：</span><span style="background-color: rgb(247, 247, 247); font-family: 'Courier New', monospace; font-size: 12px; line-height: 18px; white-space: pre;">
</span></div><div>![](http://helloword.1kapp.com/wp-content/uploads/2015/01/wpid-f40eac9162e0282c4724b19146858646_7c2be74a-f1af-4c0a-b011-54416bc40ff6.png)<span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 28px; background-color: rgb(248, 248, 248);">
</span></div><div><span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 28px; background-color: rgb(248, 248, 248);">4.再次去查看内存占用情况，cached明显减少，释放成功</span></div><div>![](http://helloword.1kapp.com/wp-content/uploads/2015/01/wpid-f40eac9162e0282c4724b19146858646_23daaaf4-7006-4006-8d3f-e6e4cd11b77a.png)<span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 28px; background-color: rgb(248, 248, 248);">
</span></div><div>
</div>

<div>[来自为知笔记(Wiz)](http://www.wiz.cn/i/60efacb7 "来自为知笔记(Wiz)")</div>